<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>SciML for buildings | Ján Drgoňa</title> <meta name="author" content="Ján Drgoňa"> <meta name="description" content="Developing differentiable predictive control (DPC) as a market-ready technology for energy-efficient building control."> <meta name="keywords" content="differentiable programming, scientific machine learning, optimal control, dynamical systems, constrained optimization"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://drgona.github.io/projects/2_project/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Ján </span>Drgoňa</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">software</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">SciML for buildings</h1> <p class="post-description">Developing differentiable predictive control (DPC) as a market-ready technology for energy-efficient building control.</p> </header> <article> <h2 id="abstract">Abstract</h2> <p>At PNNL, I have led the development and demonstration of <a href="https://www.sciencedirect.com/science/article/pii/S0959152422000981" rel="external nofollow noopener" target="_blank">differentiable predictive control (DPC)</a>, a state-of-the-art advanced control method, that enables rapid design and scalable deployment of predictive controls for building energy systems. DPC provides benefits of <a href="https://en.wikipedia.org/wiki/Model_predictive_control" rel="external nofollow noopener" target="_blank">model predictive control</a> (MPC) at costs and complexity of traditional controls allowing for improved control and predictions which result in reduced energy use, demand flexibility and improved air quality. Under this project, my PNNL team collaborates with industry partners to integrate DPC with existing market-available control products to develop affordable, high-performance, and scalable predictive control solutions that can be deployed in new and existing buildings to reduce energy, peak demand, greenhouse gas emissions, and improve occupant comfort. The project will demonstrate the DPC technology’s flexibility in design and deployment to industry use cases and underlying building energy systems without substantial, bespoke rework. This applied research is directed by industry objectives to bring to the market this new capability, and enable its broad deployment. The resulting buildings control technologies and deployment enabling software will significantly advance BTO’s goals to reduce emissions in US buildings.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/DPC_BTO_project.PNG-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/DPC_BTO_project.PNG-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/DPC_BTO_project.PNG-1400.webp"></source> <img src="/assets/img/DPC_BTO_project.PNG" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="DPC BTO" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Overview of Differentiable Predictive Control (DPC) methodology for real-world building control. </div> <h3 id="modeling-building-thermal-dynamics-with-sciml">Modeling building thermal dynamics with SciML</h3> <p>Energy-efficient buildings are one of the top priorities to sustainably address the global energy demands and reduction of the CO2 emissions. It has been demonstrated that advanced building control, like <a href="https://en.wikipedia.org/wiki/Model_predictive_control" rel="external nofollow noopener" target="_blank">model predictive control</a> (MPC) or <a href="https://en.wikipedia.org/wiki/Deep_reinforcement_learning" rel="external nofollow noopener" target="_blank">deep reinforcement learning</a> (DRL), can notably reduce the energy use and mitigate greenhouse gas emissions. However, in order for these advanced control methods to work in practice, they heavily rely on accurate prediction models of building thermal dynamics.</p> <p>To address this, our team has developed novel scientific machine learning (SciML) method for control-oriented modeling of building thermal dynamics. Specifically, our method incorporates structural prior knowledge from traditional physics-based building modeling into the architecture of the deep neural network model. Further, we also use penalty methods to enforce inequality constraints, thereby bounding predictions within physically realistic and safe operating ranges. We show that using only 10 days’ measurements for training, our method is capable of generalizing over 20 consecutive days. We demonstrate that the proposed modeling methodology is achieving state-of-the-art performance by significantly improving the accuracy and generalization compared to classical system identification methods and prior advanced methods reported in the literature. compared to prior state-of-the-art methods reported in the literature. For more information read <a href="https://www.sciencedirect.com/science/article/pii/S0378778821002760" rel="external nofollow noopener" target="_blank">our paper</a>.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/NSSM_building-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/NSSM_building-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/NSSM_building-1400.webp"></source> <img src="/assets/img/NSSM_building.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="nssm" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Generic structure of physics-inspired neural dynamics model architecture. Weights of individual neural blocks are parametrized by linear maps with constrained eigenvalues to enforce the energy dissipativity property of the modeled system. </div> <h3 id="differentiable-predictive-control-of-building-energy-systems">Differentiable predictive control of building energy systems</h3> <p>Despite intensive research efforts, the practical applications of advanced control methods such as MPC and DRL are still in the early stages. One of these challenges is the complexity of designing and deploying the optimal control policies in the current predominantly rule-based building automation systems.</p> <p>To address this limitation, our team has developed novel methodology called <a href="https://www.sciencedirect.com/science/article/pii/S0959152422000981" rel="external nofollow noopener" target="_blank">differentiable predictive control (DPC)</a> for learning constrained control policies for dynamical systems subject to operational and safety constraints. DPC presents a novel data-driven policy optimization algorithm that combines the benefits of both worlds, data-driven adaptive nature of DRL, and model-based performance and safety guarantees of MPC. We have demonstrated the proposed DPC method in a high fidelity simulation environment using learned model of multi-zone building thermal dynamics. For more information read <a href="https://www.sciencedirect.com/science/article/pii/S2405896321012933" rel="external nofollow noopener" target="_blank">our paper</a>.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/DPC_building-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/DPC_building-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/DPC_building-1400.webp"></source> <img src="/assets/img/DPC_building.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="dpc building" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Conceptual overview of Differentiable Predictive Control (DPC) methodology for buidling control. Step 1: physics-constrained system identification of the building thermal dynamics. Step 2: Learning neural control policies in closed-loop simulations with differentiable system dynamics model and MPC constraints. </div> <h3 id="high-fidelity-simulation-platform-of-building-energy-systems">High fidelity simulation platform of building energy systems</h3> <p>Development of new building HVAC control algorithms has grown due to needs for energy efficiency and operational flexibility. However, case studies demonstrating new algorithms are largely individualized, making algorithm performance difficult to compare directly. In addition, the effort and expertise required to implement case studies in real or simulated buildings limits rapid prototyping potential. To address this issue, our team has been co-developing a high fidelity building simulation framework for performance benchmarking of modern control methods. This multi-institution project called Building Optimization Testing Framework (BOPTEST) was recognized with the <a href="https://www.tandfonline.com/doi/full/10.1080/19401493.2021.1986574" rel="external nofollow noopener" target="_blank">best paper award</a> issued by the Journal of Building Performance Simulation. For more information visit the <a href="https://ibpsa.github.io/project1-boptest/" rel="external nofollow noopener" target="_blank">project website</a>.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/publication_preview/BOPTEST.PNG-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/publication_preview/BOPTEST.PNG-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/publication_preview/BOPTEST.PNG-1400.webp"></source> <img src="/assets/img/publication_preview/BOPTEST.PNG" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="boptest" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Conceptual overview of the BOPTEST framework designed to facilitate the performance evaluation and benchmarking of advanced building control strategies. </div> <h2 id="open-source-software">Open-source Software</h2> <p>The technology developed under this project is being open-sourced as part of the Neuromancer Scientific Machine Learning (SciML) library developed by our team at PNNL.</p> <p><a href="https://github.com/pnnl/neuromancer" rel="external nofollow noopener" target="_blank"><img src="https://github-readme-stats.vercel.app/api/pin/?username=pnnl&amp;repo=neuromancer" alt="Readme Card"></a></p> <h2 id="pnnl-team">PNNL Team</h2> <ul> <li> <a href="https://www.pnnl.gov/people/draguna-vrabie-phd" rel="external nofollow noopener" target="_blank">Draguna Vrabie</a> (PI)</li> <li> <strong>Ján Drgoňa</strong> (Co-PI)</li> <li> <a href="https://www.linkedin.com/in/aarontuor/" rel="external nofollow noopener" target="_blank">Aaron Tuor</a> (Co-PI)</li> <li><a href="https://www.linkedin.com/in/james-koch-5285a87a/" rel="external nofollow noopener" target="_blank">James Koch</a></li> <li><a href="https://www.linkedin.com/in/m-shapiro/" rel="external nofollow noopener" target="_blank">Madelyn Shapiro</a></li> <li><a href="https://shawcortez.wordpress.com/" rel="external nofollow noopener" target="_blank">Wenceslao Shaw Cortez</a></li> <li><a href="https://www.linkedin.com/in/m-shapiro/" rel="external nofollow noopener" target="_blank">Soumya Vasisht</a></li> <li><a href="https://www.linkedin.com/in/rahul-birmiwal009/" rel="external nofollow noopener" target="_blank">Rahul Birmiwal</a></li> <li><a href="https://www.linkedin.com/in/hsharma2328/" rel="external nofollow noopener" target="_blank">Himanshu Sharma</a></li> <li> <a href="https://www.linkedin.com/in/brian-hutchinson-7a8b0857/" rel="external nofollow noopener" target="_blank">Brian Hutchinson</a> (WWU Professor)</li> <li> <a href="https://www.linkedin.com/in/sethlbriney/" rel="external nofollow noopener" target="_blank">Seth Briney</a> (WWU student)</li> <li> <a href="https://www.linkedin.com/in/diego-llanes-ai/" rel="external nofollow noopener" target="_blank">Diego Llanes</a> (WWU student)</li> <li> <a href="https://www.linkedin.com/in/harry-qiang-23417151/" rel="external nofollow noopener" target="_blank">Harry Qiang</a> (WWU student)</li> </ul> <h2 id="industrial-partners">Industrial Partners</h2> <ul> <li><a href="https://communityenergylabs.com/" rel="external nofollow noopener" target="_blank">Community Energy Labs</a></li> <li><a href="https://verdigris.co/" rel="external nofollow noopener" target="_blank">Verdigris</a></li> <li><a href="https://www.elexity.io/" rel="external nofollow noopener" target="_blank">Elexity</a></li> <li><a href="https://deltacontrols.com/" rel="external nofollow noopener" target="_blank">Delta Controls</a></li> <li><a href="https://passivelogic.com/" rel="external nofollow noopener" target="_blank">PassiveLogic</a></li> </ul> <h2 id="acknowledgements">Acknowledgements</h2> <p>This project is supported through the U.S. Department of Energy (DOE), Energy Efficiency and Renewable Energy, Building Technologies Office (BTO) under the “Advancing Market-Ready Building Energy Management by Cost-Effective Differentiable Predictive Control” and the “Dynamic decarbonization through autonomous physics-centric deep learning and optimization of building operations” projects. PNNL is a multi-program national laboratory operated for the U.S. Department of Energy (DOE) by Battelle Memorial Institute under Contract No. DE-AC05-76RL0-1830.</p> <p>Part of this work emerged from the IBPSA Project 1, an international project conducted under the umbrella of the International Building Performance Simulation Association (IBPSA). Project 1 develops and demonstrates a BIM/GIS and Modelica Framework for building and community energy system design and operation. This research was partially supported by the Assistant Secretary for Energy Efficiency and Renewable Energy, Office of Building Technologies of the U.S. Department of Energy, under Contracts nos. DE-AC05-76RL01830, and DE-AC02-05CH11231.</p> </article> <h2>References</h2> <div class="publications"> <h2 class="bibliography">2023</h2> <ol class="bibliography"> <li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">ACC</abbr></div> <div id="10155901" class="col-sm-8"> <div class="title">Physics-Informed Machine Learning for Modeling and Control of Dynamical Systems</div> <div class="author"> Truong X. Nghiem, <em>Ján Drgoňa</em>, Colin Jones, and <span class="more-authors" title="click to view 10 more authors" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '10 more authors' ? 'Zoltan Nagy, Roland Schwan, Biswadip Dey, Ankush Chakrabarty, Stefano Di Cairano, Joel A. Paulson, Andrea Carron, Melanie N. Zeilinger, Wenceslao Shaw Cortez, Draguna L. Vrabie' : '10 more authors'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '10'); ">10 more authors</span> </div> <div class="periodical"> <em>In 2023 American Control Conference (ACC)</em>, 07 – 08 june 2023 </div> <div class="periodical"> </div> <div class="links"> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://ieeexplore.ieee.org/document/10155901" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@inproceedings</span><span class="p">{</span><span class="nl">10155901</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Nghiem, Truong X. and Drgoňa, Ján and Jones, Colin and Nagy, Zoltan and Schwan, Roland and Dey, Biswadip and Chakrabarty, Ankush and Di Cairano, Stefano and Paulson, Joel A. and Carron, Andrea and Zeilinger, Melanie N. and Shaw Cortez, Wenceslao and Vrabie, Draguna L.}</span><span class="p">,</span>
  <span class="na">booktitle</span> <span class="p">=</span> <span class="s">{2023 American Control Conference (ACC)}</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Physics-Informed Machine Learning for Modeling and Control of Dynamical Systems}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2023}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{}</span><span class="p">,</span>
  <span class="na">number</span> <span class="p">=</span> <span class="s">{}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{3735-3750}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{10.23919/ACC55779.2023.10155901}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">ACC</abbr></div> <div id="10156081" class="col-sm-8"> <div class="title">Data-Driven Control: Theory and Applications</div> <div class="author"> Damoon Soudbakhsh, Anuradha M. Annaswamy, Yan Wang, and <span class="more-authors" title="click to view 6 more authors" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '6 more authors' ? 'Steven L. Brunton, Joseph Gaudio, Heather Hussain, Draguna Vrabie, Ján Drgoňa, Dimitar Filev' : '6 more authors'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '10'); ">6 more authors</span> </div> <div class="periodical"> <em>In 2023 American Control Conference (ACC)</em>, 07 – 08 june 2023 </div> <div class="periodical"> </div> <div class="links"> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://ieeexplore.ieee.org/document/10156081" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@inproceedings</span><span class="p">{</span><span class="nl">10156081</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Soudbakhsh, Damoon and Annaswamy, Anuradha M. and Wang, Yan and Brunton, Steven L. and Gaudio, Joseph and Hussain, Heather and Vrabie, Draguna and Drgoňa, Ján and Filev, Dimitar}</span><span class="p">,</span>
  <span class="na">booktitle</span> <span class="p">=</span> <span class="s">{2023 American Control Conference (ACC)}</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Data-Driven Control: Theory and Applications}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2023}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{}</span><span class="p">,</span>
  <span class="na">number</span> <span class="p">=</span> <span class="s">{}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{1922-1939}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{10.23919/ACC55779.2023.10156081}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge" style="background-color:#87CEEB"><a href="https://www.sciencedirect.com/journal/building-and-environment" rel="external nofollow noopener" target="_blank">BnE</a></abbr></div> <div id="NAGY2023110435" class="col-sm-8"> <div class="title">Ten questions concerning reinforcement learning for building energy management</div> <div class="author"> Zoltan Nagy, Gregor Henze, Sourav Dey, and <span class="more-authors" title="click to view 22 more authors" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '22 more authors' ? 'Javier Arroyo, Lieve Helsen, Xiangyu Zhang, Bingqing Chen, Kadir Amasyali, Kuldeep Kurte, Ahmed Zamzam, Helia Zandi, Ján Drgoňa, Matias Quintana, Steven McCullogh, June Young Park, Han Li, Tianzhen Hong, Silvio Brandi, Giuseppe Pinto, Alfonso Capozzoli, Draguna Vrabie, Mario Bergés, Kingsley Nweye, Thibault Marzullo, Andrey Bernstein' : '22 more authors'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '10'); ">22 more authors</span> </div> <div class="periodical"> <em>Building and Environment</em>, 07 – 08 june 2023 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://www.sciencedirect.com/science/article/pii/S0360132323004626" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> </div> <div class="abstract hidden"> <p>As buildings account for approximately 40% of global energy consumption and associated greenhouse gas emissions, their role in decarbonizing the power grid is crucial. The increased integration of variable energy sources, such as renewables, introduces uncertainties and unprecedented flexibilities, necessitating buildings to adapt their energy demand to enhance grid resiliency. Consequently, buildings must transition from passive energy consumers to active grid assets, providing demand flexibility and energy elasticity while maintaining occupant comfort and health. This fundamental shift demands advanced optimal control methods to manage escalating energy demand and avert power outages. Reinforcement learning (RL) emerges as a promising method to address these challenges. In this paper, we explore ten questions related to the application of RL in buildings, specifically targeting flexible energy management. We consider the growing availability of data, advancements in machine learning algorithms, open-source tools, and the practical deployment aspects associated with software and hardware requirements. Our objective is to deliver a comprehensive introduction to RL, present an overview of existing research and accomplishments, underscore the challenges and opportunities, and propose potential future research directions to expedite the adoption of RL for building energy management.</p> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@article</span><span class="p">{</span><span class="nl">NAGY2023110435</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Ten questions concerning reinforcement learning for building energy management}</span><span class="p">,</span>
  <span class="na">journal</span> <span class="p">=</span> <span class="s">{Building and Environment}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{241}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{110435}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2023}</span><span class="p">,</span>
  <span class="na">issn</span> <span class="p">=</span> <span class="s">{0360-1323}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{https://doi.org/10.1016/j.buildenv.2023.110435}</span><span class="p">,</span>
  <span class="na">url</span> <span class="p">=</span> <span class="s">{https://www.sciencedirect.com/science/article/pii/S0360132323004626}</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Nagy, Zoltan and Henze, Gregor and Dey, Sourav and Arroyo, Javier and Helsen, Lieve and Zhang, Xiangyu and Chen, Bingqing and Amasyali, Kadir and Kurte, Kuldeep and Zamzam, Ahmed and Zandi, Helia and Drgoňa, Ján and Quintana, Matias and McCullogh, Steven and Park, June Young and Li, Han and Hong, Tianzhen and Brandi, Silvio and Pinto, Giuseppe and Capozzoli, Alfonso and Vrabie, Draguna and Bergés, Mario and Nweye, Kingsley and Marzullo, Thibault and Bernstein, Andrey}</span><span class="p">,</span>
  <span class="na">keywords</span> <span class="p">=</span> <span class="s">{Open AI Gym}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> </ol> <h2 class="bibliography">2022</h2> <ol class="bibliography"> <li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge" style="background-color:#c60004"><a href="">arXiv</a></abbr></div> <div id="das2022machine" class="col-sm-8"> <div class="title">Machine Learning for Smart and Energy-Efficient Buildings</div> <div class="author"> Hari Prasanna Das, Yu-Wen Lin, Utkarsha Agwan, and <span class="more-authors" title="click to view 7 more authors" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '7 more authors' ? 'Lucas Spangher, Alex Devonport, Yu Yang, Ján Drgoňa, Adrian Chong, Stefano Schiavon, Costas J. Spanos' : '7 more authors'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '10'); ">7 more authors</span> </div> <div class="periodical"> 07 – 08 june 2022 </div> <div class="periodical"> </div> <div class="links"> <a href="http://arxiv.org/abs/https://arxiv.org/abs/2211.14889" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">arXiv</a> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@misc</span><span class="p">{</span><span class="nl">das2022machine</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Machine Learning for Smart and Energy-Efficient Buildings}</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Das, Hari Prasanna and Lin, Yu-Wen and Agwan, Utkarsha and Spangher, Lucas and Devonport, Alex and Yang, Yu and Drgoňa, Ján and Chong, Adrian and Schiavon, Stefano and Spanos, Costas J.}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2022}</span><span class="p">,</span>
  <span class="na">eprint</span> <span class="p">=</span> <span class="s">{2211.14889}</span><span class="p">,</span>
  <span class="na">archiveprefix</span> <span class="p">=</span> <span class="s">{arXiv}</span><span class="p">,</span>
  <span class="na">primaryclass</span> <span class="p">=</span> <span class="s">{cs.LG}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 preview"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/publication_preview/DPC.PNG-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/publication_preview/DPC.PNG-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/publication_preview/DPC.PNG-1400.webp"></source> <img src="/assets/img/publication_preview/DPC.PNG" class="preview z-depth-1 rounded" width="auto" height="auto" alt="DPC.PNG" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div id="DRGONA202280" class="col-sm-8"> <div class="title">Differentiable predictive control: Deep learning alternative to explicit model predictive control for unknown nonlinear systems</div> <div class="author"> <em>Ján Drgoňa</em>, Karol Kiš, Aaron Tuor, and <span class="more-authors" title="click to view 2 more authors" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '2 more authors' ? 'Draguna Vrabie, Martin Klaučo' : '2 more authors'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '10'); ">2 more authors</span> </div> <div class="periodical"> <em>Journal of Process Control</em>, Aug 2022 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://www.sciencedirect.com/science/article/pii/S0959152422000981" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> <a href="https://github.com/pnnl/neuromancer/tree/master/examples/control" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">Code</a> </div> <div class="abstract hidden"> <p>We present differentiable predictive control (DPC) as a deep learning-based alternative to the explicit model predictive control (MPC) for unknown nonlinear systems. In the DPC framework, a neural state-space model is learned from time-series measurements of the system dynamics. The neural control policy is then optimized via stochastic gradient descent approach by differentiating the MPC loss function through the closed-loop system dynamics model. The proposed DPC method learns model-based control policies with state and input constraints, while supporting time-varying references and constraints. In embedded implementation using a Raspberry-Pi platform, we experimentally demonstrate that it is possible to train constrained control policies purely based on the measurements of the unknown nonlinear system. We compare the control performance of the DPC method against explicit MPC and report efficiency gains in online computational demands, memory requirements, policy complexity, and construction time. In particular, we show that our method scales linearly compared to exponential scalability of the explicit MPC solved via multiparametric programming.</p> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@article</span><span class="p">{</span><span class="nl">DRGONA202280</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Differentiable predictive control: Deep learning alternative to explicit model predictive control for unknown nonlinear systems}</span><span class="p">,</span>
  <span class="na">journal</span> <span class="p">=</span> <span class="s">{Journal of Process Control}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{116}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{80-92}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2022}</span><span class="p">,</span>
  <span class="na">month</span> <span class="p">=</span> <span class="nv">aug</span><span class="p">,</span>
  <span class="na">issn</span> <span class="p">=</span> <span class="s">{0959-1524}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{https://doi.org/10.1016/j.jprocont.2022.06.001}</span><span class="p">,</span>
  <span class="na">url</span> <span class="p">=</span> <span class="s">{https://www.sciencedirect.com/science/article/pii/S0959152422000981}</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Drgoňa, Ján and Kiš, Karol and Tuor, Aaron and Vrabie, Draguna and Klaučo, Martin}</span><span class="p">,</span>
  <span class="na">keywords</span> <span class="p">=</span> <span class="s">{Differentiable predictive control, Model predictive control, Neural state space models, Data-driven differentiable optimization, Deep learning}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge" style="background-color:#87CEEB"><a href="https://www.sciencedirect.com/journal/building-and-environment" rel="external nofollow noopener" target="_blank">BnE</a></abbr></div> <div id="DONG2022109195" class="col-sm-8"> <div class="title">A guideline to document occupant behavior models for advanced building controls</div> <div class="author"> Bing Dong, Romana Markovic, Salvatore Carlucci, and <span class="more-authors" title="click to view 20 more authors" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '20 more authors' ? 'Yapan Liu, Andreas Wagner, Antonio Liguori, Christoph van Treeck, Dmitry Oleynikov, Elie Azar, Gianmarco Fajilla, Ján Drgoňa, Joyce Kim, Marika Vellei, Marilena De Simone, Masood Shamsaiee, Mateus Bavaresco, Matteo Favero, Mikkel Kjaergaard, Mohamed Osman, Moritz Frahm, Sanam Dabirian, Da Yan, Xuyuan Kang' : '20 more authors'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '10'); ">20 more authors</span> </div> <div class="periodical"> <em>Building and Environment</em>, Aug 2022 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://www.sciencedirect.com/science/article/pii/S0360132322004310" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> </div> <div class="abstract hidden"> <p>The availability of computational power, and a wealth of data from sensors have boosted the development of model-based predictive control for smart and effective control of advanced buildings in the last decade. More recently occupant-behavior models have been developed for including people in the building control loops. However, while important objectives of scientific research are reproducibility and replicability of results, not all information is available from published documents. Therefore, the aim of this paper is to propose a guideline for a thorough and standardized occupant-behavior model documentation. For that purpose, the literature screening for the existing occupant behavior models in building control was conducted, and the occupant behavior modeling processes were studied to extract practices and gaps for each of the following phases: problem statement, data collection, and preprocessing, model development, model evaluation, and model implementation. The literature screening pointed out that the current state-of-the-art on model documentation shows little unification, which poses a particular burden for the model application and replication in field studies. In addition to the standardized model documentation, this work presented a model-evaluation schema that enabled benchmarking of different models in field settings as well as the recommendations on how OB models are integrated with the building system.</p> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@article</span><span class="p">{</span><span class="nl">DONG2022109195</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{A guideline to document occupant behavior models for advanced building controls}</span><span class="p">,</span>
  <span class="na">journal</span> <span class="p">=</span> <span class="s">{Building and Environment}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{219}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{109195}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2022}</span><span class="p">,</span>
  <span class="na">issn</span> <span class="p">=</span> <span class="s">{0360-1323}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{https://doi.org/10.1016/j.buildenv.2022.109195}</span><span class="p">,</span>
  <span class="na">url</span> <span class="p">=</span> <span class="s">{https://www.sciencedirect.com/science/article/pii/S0360132322004310}</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Dong, Bing and Markovic, Romana and Carlucci, Salvatore and Liu, Yapan and Wagner, Andreas and Liguori, Antonio and {van Treeck}, Christoph and Oleynikov, Dmitry and Azar, Elie and Fajilla, Gianmarco and Drgoňa, Ján and Kim, Joyce and Vellei, Marika and {De Simone}, Marilena and Shamsaiee, Masood and Bavaresco, Mateus and Favero, Matteo and Kjaergaard, Mikkel and Osman, Mohamed and Frahm, Moritz and Dabirian, Sanam and Yan, Da and Kang, Xuyuan}</span><span class="p">,</span>
  <span class="na">keywords</span> <span class="p">=</span> <span class="s">{Guideline documentation, Occupant behavior model, Building control, Model Predictive control (MPC)}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 preview"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/publication_preview/DPC_cl_animation.gif-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/publication_preview/DPC_cl_animation.gif-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/publication_preview/DPC_cl_animation.gif-1400.webp"></source> <img src="/assets/img/publication_preview/DPC_cl_animation.gif" class="preview z-depth-1 rounded" width="auto" height="auto" alt="DPC_cl_animation.gif" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div id="drgona2022learning" class="col-sm-8"> <div class="title">Learning Constrained Adaptive Differentiable Predictive Control Policies With Guarantees</div> <div class="author"> <em>Ján Drgoňa</em>, Aaron Tuor, and Draguna Vrabie</div> <div class="periodical"> Aug 2022 </div> <div class="periodical"> </div> <div class="links"> <a href="http://arxiv.org/abs/https://arxiv.org/abs/2004.11184" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">arXiv</a> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://github.com/pnnl/deps_arXiv2020" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">Code</a> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@misc</span><span class="p">{</span><span class="nl">drgona2022learning</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Learning Constrained Adaptive Differentiable Predictive Control Policies With Guarantees}</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Drgoňa, Ján and Tuor, Aaron and Vrabie, Draguna}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2022}</span><span class="p">,</span>
  <span class="na">eprint</span> <span class="p">=</span> <span class="s">{2004.11184}</span><span class="p">,</span>
  <span class="na">archiveprefix</span> <span class="p">=</span> <span class="s">{arXiv}</span><span class="p">,</span>
  <span class="na">primaryclass</span> <span class="p">=</span> <span class="s">{eess.SY}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> </ol> <h2 class="bibliography">2021</h2> <ol class="bibliography"> <li> <div class="row"> <div class="col-sm-2 preview"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/publication_preview/BOPTEST.PNG-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/publication_preview/BOPTEST.PNG-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/publication_preview/BOPTEST.PNG-1400.webp"></source> <img src="/assets/img/publication_preview/BOPTEST.PNG" class="preview z-depth-1 rounded" width="auto" height="auto" alt="BOPTEST.PNG" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div id="Blum2021" class="col-sm-8"> <div class="title">Building optimization testing framework (BOPTEST) for simulation-based benchmarking of control strategies in buildings</div> <div class="author"> </div> <div class="periodical"> <em>Journal of Building Performance Simulation</em>, Aug 2021 </div> <div class="periodical"> </div> <div class="links"> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://doi.org/10.1080/19401493.2021.1986574" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> <a href="https://github.com/ibpsa/project1-boptest" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">Code</a> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@article</span><span class="p">{</span><span class="nl">Blum2021</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{}</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Building optimization testing framework (BOPTEST) for simulation-based benchmarking of control strategies in buildings}</span><span class="p">,</span>
  <span class="na">journal</span> <span class="p">=</span> <span class="s">{Journal of Building Performance Simulation}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{14}</span><span class="p">,</span>
  <span class="na">number</span> <span class="p">=</span> <span class="s">{5}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{586-610}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2021}</span><span class="p">,</span>
  <span class="na">publisher</span> <span class="p">=</span> <span class="s">{Taylor &amp; Francis}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{10.1080/19401493.2021.1986574}</span><span class="p">,</span>
  <span class="na">url</span> <span class="p">=</span> <span class="s">{https://doi.org/10.1080/19401493.2021.1986574}</span><span class="p">,</span>
  <span class="na">eprint</span> <span class="p">=</span> <span class="s">{https://doi.org/10.1080/19401493.2021.1986574}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 abbr"><abbr class="badge">BS</abbr></div> <div id="bs2021_30806" class="col-sm-8"> <div class="title">Energy prediction under changed demand conditions: robust machine learning models and input feature combinations</div> <div class="author"> Thomas Schranz, Johannes Exenberger, Christian Møldrup Legaard, and <span class="more-authors" title="click to view 2 more authors" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '2 more authors' ? 'Ján Drgona, Gerald Schweiger' : '2 more authors'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '10'); ">2 more authors</span> </div> <div class="periodical"> <em>In Proceedings of Building Simulation 2021: 17th Conference of IBPSA</em>, Sep 2021 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://publications.ibpsa.org/conference/paper/?id=bs2021_30806" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> </div> <div class="abstract hidden"> <p>Deciding on a suitable algorithm for energy demand prediction in a building is non-trivial and depends on the availability of data. In this paper we compare four machine learning models, commonly found in the literature, in terms of their generalization performance and in terms of how using different sets of input features affects accuracy. This is tested on a data set where consumption patterns differ significantly between training and evaluation because of the Covid-19 pandemic. We provide a hands-on guide and supply a Python framework for building operators to adapt and use in their applications.</p> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@inproceedings</span><span class="p">{</span><span class="nl">bs2021_30806</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{https://doi.org/10.26868/25222708.2021.30806}</span><span class="p">,</span>
  <span class="na">url</span> <span class="p">=</span> <span class="s">{https://publications.ibpsa.org/conference/paper/?id=bs2021_30806}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2021}</span><span class="p">,</span>
  <span class="na">month</span> <span class="p">=</span> <span class="nv">sep</span><span class="p">,</span>
  <span class="na">publisher</span> <span class="p">=</span> <span class="s">{IBPSA}</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Schranz, Thomas and Exenberger, Johannes and Legaard, Christian Møldrup and Drgona, Ján and Schweiger, Gerald}</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Energy prediction under changed demand conditions: robust machine learning models and input feature combinations}</span><span class="p">,</span>
  <span class="na">booktitle</span> <span class="p">=</span> <span class="s">{Proceedings of Building Simulation 2021: 17th Conference of IBPSA}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{17}</span><span class="p">,</span>
  <span class="na">isbn</span> <span class="p">=</span> <span class="s">{978-1-7750520-2-9}</span><span class="p">,</span>
  <span class="na">address</span> <span class="p">=</span> <span class="s">{Bruges, Belgium}</span><span class="p">,</span>
  <span class="na">series</span> <span class="p">=</span> <span class="s">{Building Simulation}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{3268--3275}</span><span class="p">,</span>
  <span class="na">issn</span> <span class="p">=</span> <span class="s">{2522-2708}</span><span class="p">,</span>
  <span class="na">organisation</span> <span class="p">=</span> <span class="s">{IBPSA}</span><span class="p">,</span>
  <span class="na">editors</span> <span class="p">=</span> <span class="s">{}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 preview"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/publication_preview/EnB2021.PNG-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/publication_preview/EnB2021.PNG-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/publication_preview/EnB2021.PNG-1400.webp"></source> <img src="/assets/img/publication_preview/EnB2021.PNG" class="preview z-depth-1 rounded" width="auto" height="auto" alt="EnB2021.PNG" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div id="DRGONA2021110992" class="col-sm-8"> <div class="title">Physics-constrained deep learning of multi-zone building thermal dynamics</div> <div class="author"> <em>Ján Drgoňa</em>, Aaron R. Tuor, Vikas Chandan, and <span class="more-authors" title="click to view 1 more author" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '1 more author' ? 'Draguna L. Vrabie' : '1 more author'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '10'); ">1 more author</span> </div> <div class="periodical"> <em>Energy and Buildings</em>, Sep 2021 </div> <div class="periodical"> </div> <div class="links"> <a class="abstract btn btn-sm z-depth-0" role="button">Abs</a> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://www.sciencedirect.com/science/article/pii/S0378778821002760" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> <a href="https://github.com/pnnl/neuromancer/tree/system_ID_building" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">Code</a> </div> <div class="abstract hidden"> <p>We present a physics-constrained deep learning method to develop control-oriented models of building thermal dynamics. The proposed method uses systematic encoding of physics-based prior knowledge into a structured recurrent neural architecture. Specifically, our method incorporates structural prior knowledge from traditional physics-based building modeling into the architecture of the deep neural network model. Further, we also use penalty methods to provide inequality constraints, thereby bounding predictions within physically realistic and safe operating ranges. We observe that stable eigenvalues accurately characterize the dissipativeness of the system, and use a constrained matrix parameterization based on the Perron-Frobenius theorem to bound the dominant eigenvalues of the building thermal model parameter matrices. We demonstrate the effectiveness and physical interpretability of the proposed data-driven modeling approach on a real-world dataset obtained from an office building with 20 thermal zones. The proposed data-driven method can learn interpretable dynamical models that achieve high accuracy and generalization over long-term prediction horizons. We show that using only 10 days’ measurements for training, our method is capable of generalizing over 20 consecutive days. We demonstrate that the proposed modeling methodology is achieving state-of-the-art performance by significantly improving the accuracy and generalization compared to classical system identification methods and prior advanced methods reported in the literature. compared to prior state-of-the-art methods reported in the literature.</p> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@article</span><span class="p">{</span><span class="nl">DRGONA2021110992</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Physics-constrained deep learning of multi-zone building thermal dynamics}</span><span class="p">,</span>
  <span class="na">journal</span> <span class="p">=</span> <span class="s">{Energy and Buildings}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{243}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{110992}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2021}</span><span class="p">,</span>
  <span class="na">issn</span> <span class="p">=</span> <span class="s">{0378-7788}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{https://doi.org/10.1016/j.enbuild.2021.110992}</span><span class="p">,</span>
  <span class="na">url</span> <span class="p">=</span> <span class="s">{https://www.sciencedirect.com/science/article/pii/S0378778821002760}</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Drgoňa, Ján and Tuor, Aaron R. and Chandan, Vikas and Vrabie, Draguna L.}</span><span class="p">,</span>
  <span class="na">keywords</span> <span class="p">=</span> <span class="s">{System identification, Physics-constrained deep learning, Building thermal dynamics, Control-oriented modeling}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 preview"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/publication_preview/DPC_buildings.PNG-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/publication_preview/DPC_buildings.PNG-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/publication_preview/DPC_buildings.PNG-1400.webp"></source> <img src="/assets/img/publication_preview/DPC_buildings.PNG" class="preview z-depth-1 rounded" width="auto" height="auto" alt="DPC_buildings.PNG" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div id="DRGONA202114" class="col-sm-8"> <div class="title">Deep Learning Explicit Differentiable Predictive Control Laws for Buildings</div> <div class="author"> <em>Ján Drgoňa</em>, Aaron Tuor, Elliott Skomski, and <span class="more-authors" title="click to view 2 more authors" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '2 more authors' ? 'Soumya Vasisht, Draguna Vrabie' : '2 more authors'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '10'); ">2 more authors</span> </div> <div class="periodical"> <em>IFAC-PapersOnLine</em>, Sep 2021 </div> <div class="periodical"> 7th IFAC Conference on Nonlinear Model Predictive Control NMPC 2021 </div> <div class="links"> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://www.sciencedirect.com/science/article/pii/S2405896321012933" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> <a href="https://github.com/pnnl/neuromancer/tree/building_ctrl" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">Code</a> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@article</span><span class="p">{</span><span class="nl">DRGONA202114</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{Deep Learning Explicit Differentiable Predictive Control Laws for Buildings}</span><span class="p">,</span>
  <span class="na">journal</span> <span class="p">=</span> <span class="s">{IFAC-PapersOnLine}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{54}</span><span class="p">,</span>
  <span class="na">number</span> <span class="p">=</span> <span class="s">{6}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{14-19}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2021}</span><span class="p">,</span>
  <span class="na">note</span> <span class="p">=</span> <span class="s">{7th IFAC Conference on Nonlinear Model Predictive Control NMPC 2021}</span><span class="p">,</span>
  <span class="na">issn</span> <span class="p">=</span> <span class="s">{2405-8963}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{https://doi.org/10.1016/j.ifacol.2021.08.518}</span><span class="p">,</span>
  <span class="na">url</span> <span class="p">=</span> <span class="s">{https://www.sciencedirect.com/science/article/pii/S2405896321012933}</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Drgoňa, Ján and Tuor, Aaron and Skomski, Elliott and Vasisht, Soumya and Vrabie, Draguna}</span><span class="p">,</span>
  <span class="na">keywords</span> <span class="p">=</span> <span class="s">{constrained deep learning, neural state space models, system identification, differentiable predictive control, explicit nonlinear MPC}</span><span class="p">,</span>
  <span class="na">abs</span> <span class="p">=</span> <span class="s">{We present a differentiable predictive control (DPC) methodology for learning constrained control laws for unknown nonlinear systems. DPC poses an approximate solution to multiparametric programming problems emerging from explicit nonlinear model predictive control (MPC). Contrary to approximate MPC, DPC does not require supervision by an expert controller. Instead, a system dynamics model is learned from the observed system’s dynamics, and the neural control law is optimized offline by leveraging the differentiable closed-loop system model. The combination of a differentiable closed-loop system and penalty methods for constraint handling of system outputs and inputs allows us to optimize the control law’s parameters directly by backpropagating economic MPC loss through the learned system model. The control performance of the proposed DPC method is demonstrated in simulation using learned model of multi-zone building thermal dynamics.}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> </ol> <h2 class="bibliography">2020</h2> <ol class="bibliography"> <li> <div class="row"> <div class="col-sm-2 preview"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/publication_preview/MPC_imitation_conf.PNG-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/publication_preview/MPC_imitation_conf.PNG-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/publication_preview/MPC_imitation_conf.PNG-1400.webp"></source> <img src="/assets/img/publication_preview/MPC_imitation_conf.PNG" class="preview z-depth-1 rounded" width="auto" height="auto" alt="MPC_imitation_conf.PNG" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div id="DrgonaDSCC2020" class="col-sm-8"> <div class="title">Cutting the Deployment Costs of Physics-Based MPC in Buildings by Simulation-Based Imitation Learning</div> <div class="author"> Ján Drgona, Lieve Helsen, and Draguna L. Vrabie</div> <div class="periodical"> Oct 2020 </div> <div class="periodical"> </div> <div class="links"> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://doi.org/10.1115/DSCC2020-3118" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> <a href="https://github.com/drgona/BeSim" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">Code</a> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@proceedings</span><span class="p">{</span><span class="nl">DrgonaDSCC2020</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Drgona, Ján and Helsen, Lieve and Vrabie, Draguna L.}</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{{Cutting the Deployment Costs of Physics-Based MPC in Buildings by Simulation-Based Imitation Learning}}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{Volume 1: Adaptive/Intelligent Sys. Control; Driver Assistance/Autonomous Tech.; Control Design Methods; Nonlinear Control; Robotics; Assistive/Rehabilitation Devices; Biomedical/Neural Systems; Building Energy Systems; Connected Vehicle Systems; Control/Estimation of Energy Systems; Control Apps.; Smart Buildings/Microgrids; Education; Human-Robot Systems; Soft Mechatronics/Robotic Components/Systems; Energy/Power Systems; Energy Storage; Estimation/Identification; Vehicle Efficiency/Emissions}</span><span class="p">,</span>
  <span class="na">series</span> <span class="p">=</span> <span class="s">{Dynamic Systems and Control Conference}</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{V001T09A001}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2020}</span><span class="p">,</span>
  <span class="na">month</span> <span class="p">=</span> <span class="nv">oct</span><span class="p">,</span>
  <span class="na">abs</span> <span class="p">=</span> <span class="s">{{It has been shown that model predictive control (MPC) is a promising solution for energy-efficient building operations. However, the deployment of MPC in a large portion of the building stock has not been possible partially because of high installation costs. Every building is unique and requires a tailored MPC solution. The best performing solutions are often based on physics-based modeling, which is, however, computationally expensive and requires dedicated software. A promising direction that tackles this problem is to train a neural network-based optimal control policy to imitate the behavior of physics-based MPC from the simulation data generated offline. The neural networks give control actions that closely approximate those produced by physics-based MPC, but with a fraction of the computational and memory requirements and without the need for licensed software. The main advantage of the proposed approach stems from simple evaluation at execution time, leading to low computational foot-prints and easy deployment on embedded HW platforms. In the case study, we present the energy savings potential of physics-based MPC applied to an office building in Belgium. We demonstrate how neural network approximators can be used to cut the implementation and maintenance costs of MPC deployment without compromising performance. We also critically assess the presented approach by pointing out the remaining challenges and open research questions.}}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{10.1115/DSCC2020-3118}</span><span class="p">,</span>
  <span class="na">url</span> <span class="p">=</span> <span class="s">{https://doi.org/10.1115/DSCC2020-3118}</span><span class="p">,</span>
  <span class="na">eprint</span> <span class="p">=</span> <span class="s">{https://asmedigitalcollection.asme.org/DSCC/proceedings-pdf/DSCC2020/84270/V001T09A001/6622197/v001t09a001-dscc2020-3118.pdf}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> <li> <div class="row"> <div class="col-sm-2 preview"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/publication_preview/ARC.PNG-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/publication_preview/ARC.PNG-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/publication_preview/ARC.PNG-1400.webp"></source> <img src="/assets/img/publication_preview/ARC.PNG" class="preview z-depth-1 rounded" width="auto" height="auto" alt="ARC.PNG" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div id="DRGONA2020190" class="col-sm-8"> <div class="title">All you need to know about model predictive control for buildings</div> <div class="author"> <em>Ján Drgoňa</em>, Javier Arroyo, Iago Cupeiro Figueroa, and <span class="more-authors" title="click to view 8 more authors" onclick=" var element=$(this); element.attr('title', ''); var more_authors_text=element.text() == '8 more authors' ? 'David Blum, Krzysztof Arendt, Donghun Kim, Enric Perarnau Ollé, Juraj Oravec, Michael Wetter, Draguna L. Vrabie, Lieve Helsen' : '8 more authors'; var cursorPosition=0; var textAdder=setInterval(function(){ element.text(more_authors_text.substring(0, cursorPosition + 1)); if (++cursorPosition == more_authors_text.length){ clearInterval(textAdder); } }, '10'); ">8 more authors</span> </div> <div class="periodical"> <em>Annual Reviews in Control</em>, Sep 2020 </div> <div class="periodical"> </div> <div class="links"> <a class="bibtex btn btn-sm z-depth-0" role="button">Bib</a> <a href="https://www.sciencedirect.com/science/article/pii/S1367578820300584" class="btn btn-sm z-depth-0" role="button" rel="external nofollow noopener" target="_blank">HTML</a> </div> <div class="bibtex hidden"> <figure class="highlight"><pre><code class="language-bibtex" data-lang="bibtex"><span class="nc">@article</span><span class="p">{</span><span class="nl">DRGONA2020190</span><span class="p">,</span>
  <span class="na">title</span> <span class="p">=</span> <span class="s">{All you need to know about model predictive control for buildings}</span><span class="p">,</span>
  <span class="na">journal</span> <span class="p">=</span> <span class="s">{Annual Reviews in Control}</span><span class="p">,</span>
  <span class="na">volume</span> <span class="p">=</span> <span class="s">{50}</span><span class="p">,</span>
  <span class="na">month</span> <span class="p">=</span> <span class="nv">sep</span><span class="p">,</span>
  <span class="na">pages</span> <span class="p">=</span> <span class="s">{190-232}</span><span class="p">,</span>
  <span class="na">year</span> <span class="p">=</span> <span class="s">{2020}</span><span class="p">,</span>
  <span class="na">issn</span> <span class="p">=</span> <span class="s">{1367-5788}</span><span class="p">,</span>
  <span class="na">doi</span> <span class="p">=</span> <span class="s">{https://doi.org/10.1016/j.arcontrol.2020.09.001}</span><span class="p">,</span>
  <span class="na">url</span> <span class="p">=</span> <span class="s">{https://www.sciencedirect.com/science/article/pii/S1367578820300584}</span><span class="p">,</span>
  <span class="na">author</span> <span class="p">=</span> <span class="s">{Drgoňa, Ján and Arroyo, Javier and {Cupeiro Figueroa}, Iago and Blum, David and Arendt, Krzysztof and Kim, Donghun and Ollé, Enric Perarnau and Oravec, Juraj and Wetter, Michael and Vrabie, Draguna L. and Helsen, Lieve}</span><span class="p">,</span>
  <span class="na">keywords</span> <span class="p">=</span> <span class="s">{Model predictive control, Building climate control, MPC formulation, MPC software tools, MPC implementation}</span><span class="p">,</span>
  <span class="na">abs</span> <span class="p">=</span> <span class="s">{It has been proven that advanced building control, like model predictive control (MPC), can notably reduce the energy use and mitigate greenhouse gas emissions. However, despite intensive research efforts, the practical applications are still in the early stages. There is a growing need for multidisciplinary education on advanced control methods in the built environment to be accessible for a broad range of researchers and practitioners with different engineering backgrounds. This paper provides a unified framework for model predictive building control technology with focus on the real-world applications. From a theoretical point of view, this paper presents an overview of MPC formulations for building control, modeling paradigms and model types, together with algorithms necessary for real-life implementation. The paper categorizes the most notable MPC problem classes, links them with corresponding solution techniques, and provides an overview of methods for mitigation of the uncertainties for increased performance and robustness of MPC. From a practical point of view, this paper delivers an elaborate classification of the most important modeling, co-simulation, optimal control design, and optimization techniques, tools, and solvers suitable to tackle the MPC problems in the context of building climate control. On top of this, the paper presents the essential components of a practical implementation of MPC such as different control architectures and nuances of communication infrastructures within supervisory control and data acquisition (SCADA) systems. The paper draws practical guidelines with a generic workflow for implementation of MPC in real buildings aimed for contemporary adopters of this technology. Finally, the importance of standardized performance assessment and methodology for comparison of different building control algorithms is discussed.}</span>
<span class="p">}</span></code></pre></figure> </div> </div> </div> </li> </ol> </div> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Ján Drgoňa. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>